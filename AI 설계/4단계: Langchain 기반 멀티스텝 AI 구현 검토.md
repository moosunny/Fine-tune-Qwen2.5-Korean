## ğŸ¯Â  Langchainì‚¬ìš© ëª©ì 

| ê¸°ìˆ  | ì—­í•  | ìš”ì•½ |
| --- | --- | --- |
| **LangChain** | ê¸°ë³¸ ì¶”ë¡  ì²´ì¸ êµ¬ì„± | LLM ê¸°ë°˜ ì§ˆë¬¸/ë‹µë³€ ìƒì„± íë¦„ì„ ì •ì˜í•¨ |
| **Retrieval êµ¬ì¡°** | ìœ ì‚¬ ì§ˆë¬¸ ê²€ìƒ‰ | Qdrantë¥¼ í†µí•œ context ë³´ê°•ìš© ê²€ìƒ‰ ìˆ˜í–‰ |
| **LangGraph** | ì¡°ê±´ ê¸°ë°˜ íë¦„ ì œì–´ | fallback, ë‚œì´ë„, í‚¤ì›Œë“œ í¬í•¨ ì—¬ë¶€ì— ë”°ë¼ ì²´ì¸ ë¶„ê¸° |

## ğŸ“ŒÂ LangChain ê¸°ë°˜ ì¶”ë¡  êµ¬ì¡°

### âœ”ï¸ ì‚¬ìš© ì´ìœ 

- LLMì„ í†µí•œ í…ìŠ¤íŠ¸ ìƒì„± íë¦„ì„ **í”„ë¡¬í”„íŠ¸ ë‹¨ìœ„ë¡œ ëª…í™•íˆ ë¶„ë¦¬**í•˜ê³ , ì¬ì‚¬ìš© ê°€ëŠ¥í•œ êµ¬ì¡°ë¡œ êµ¬ì„± ê°€ëŠ¥
- ì²´ì¸ ë‹¨ìœ„ë¡œ êµ¬ì„±í•˜ì—¬, ì§ˆë¬¸ ìƒì„±ê³¼ ë‹µë³€ ìƒì„±ì„ ê°ê° ë…ë¦½ì ìœ¼ë¡œ ì„¤ê³„í•  ìˆ˜ ìˆìŒ

### âœ”ï¸êµ¬ì„± ì²´ì¸ ì¢…ë¥˜

| ì²´ì¸ ìœ í˜• | ì‚¬ìš© ëª©ì  | ì„¤ëª… |
| --- | --- | --- |
| `LLMChain` | ì§ˆë¬¸/ë‹µë³€ ìƒì„± | í”„ë¡¬í”„íŠ¸ ê¸°ë°˜ ì§ˆë¬¸ ìƒì„± / ë‹µë³€ ìƒì„±ì— ì‚¬ìš© |
| `RetrievalChain` | TIL â†’ ìœ ì‚¬ ì§ˆë¬¸ ê²€ìƒ‰ | ë²¡í„°í™”ëœ TILì„ Qdrantì—ì„œ ìœ ì‚¬ ì§ˆë¬¸ ê²€ìƒ‰ì— í™œìš© |

---

## 1. `/til` : Commit ê¸°ë°˜ TIL ìƒì„± Langgraph ê°œìš”

![Image](https://github.com/user-attachments/assets/4eb94a58-3cb5-4815-b66a-80b4012ce4a3)

### 1. ì²´ì¸ì˜ ê° ë‹¨ê³„ì™€ ì‘ë™ ë°©ì‹

- ì´ˆê¸° ì…ë ¥ ë°ì´í„°ë¥¼ ë°›ì•„ë“¤ì´ëŠ” **start ë‹¨ê³„**
- ì…ë ¥ ë°ì´í„°(`files`)ë¥¼ ë‹¤ìˆ˜ì˜ ì‘ì—…ìœ¼ë¡œ ë¶„ê¸°í•˜ëŠ” **fork ë‹¨ê³„(MVP ë‹¨ê³„ì—ì„œëŠ” ìµœëŒ€ 5ê°œ ì»¤ë°‹ í—ˆìš©)**
- ê° íŒŒì¼ë³„ë¡œ ê¸°ìˆ  ìŠ¤íƒ, ê¸°ëŠ¥, ì±…ì„ì„ ìš”ì•½í•˜ëŠ” **code_summary_node ë‹¨ê³„**
- ê° íŒŒì¼ë³„ ë³€ê²½ì‚¬í•­ì„ ë¶„ì„í•˜ê³  ìš”ì•½í•˜ëŠ” **patch_summary_node ë‹¨ê³„**
- ëª¨ë“  íŒŒì¼ì˜ ìš”ì•½ ê²°ê³¼ë¥¼ í†µí•©í•´ TIL ì´ˆì•ˆì„ ìƒì„±í•˜ëŠ” **til_draft_node ë‹¨ê³„**
- ì´ˆì•ˆì„ ë¦¬ë·°í•˜ê³  ìˆ˜ì •í•˜ì—¬ í’ˆì§ˆì„ ê°œì„ í•˜ëŠ” **til_feedback_node ë‹¨ê³„**
- ìµœì¢… ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ê³  ì²´ì¸ì„ ì¢…ë£Œí•˜ëŠ” **end ë‹¨ê³„**

---

### 2. vLLM ê¸°ë°˜ ë¹„ë™ê¸° ì—”ì§„ ë„ì…ì„ í†µí•œ ë™ì‹œ ìš”ì²­ ìˆ˜ìš©

- **ë„ì… ë°°ê²½ ë° ì•„í‚¤í…ì²˜ ì í•©ì„±**
    - ì…ë ¥ íŒŒì¼ì´ ì—¬ëŸ¬ ê°œì¸ ê²½ìš°(fork) ê° íŒŒì¼ë§ˆë‹¤ ë™ì‹œì— ìš”ì•½, ë³€ê²½ ë¶„ì„ì´ í•„ìš”í•œ **ë©€í‹° ì¸í¼ëŸ°ìŠ¤ ì²´ê³„**
    - ì½”ë“œ ìš”ì•½ â†’ íŒ¨ì¹˜ ìš”ì•½ â†’ TIL ì‘ì„±ê¹Œì§€ ëª¨ë“  ë‹¨ê³„ê°€ LLM í˜¸ì¶œë¡œ êµ¬ì„±ëœ **ë‹¤ë‹¨ê³„ ì¶”ë¡  íŒŒì´í”„ë¼ì¸**
    - ê° ë‹¨ê³„ì—ì„œ ìš”ì²­ì´ ì¤‘ì²©ë˜ê³  ì¦ê°€í•˜ëŠ” êµ¬ì¡°ë¥¼ ê°ë‹¹í•˜ê¸° ìœ„í•œ **ê³ ì„±ëŠ¥ ë¹„ë™ê¸° ì²˜ë¦¬ í•„ìš”ì„±**
    - vLLMì˜ ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±ê³¼ ë™ì‹œ ìš”ì²­ ìµœì í™” ê¸°ëŠ¥ì´ ë³¸ ì•„í‚¤í…ì²˜ì— ê°€ì¥ ë¶€í•©í•˜ëŠ” **ì—”ì§„ ì„ íƒ ì´ìœ **
    
- **vLLM ì´ˆê¸°í™” ë° ì„±ëŠ¥ ê´€ë ¨ í•µì‹¬ ì§€í‘œ(Gemma3-12b-it-GPTQ)**
    
    
    | í•­ëª© | ìˆ˜ì¹˜ ë° ê²°ê³¼ | ì˜ë¯¸ |
    | --- | --- | --- |
    | ëª¨ë¸ ë¡œë”© VRAM ì‚¬ìš©ëŸ‰ | 8.42 GiB | ì „ì²´ 24GiB ì¤‘ 35%ë§Œ ì‚¬ìš© |
    | Encoder cache ì˜ˆì‚° | 8,192 tokens | ë™ì‹œ ìš”ì²­ í† í° ë²„í¼ í™•ë³´ |
    | KV ìºì‹œ ë©”ëª¨ë¦¬ í¬ê¸° | 22,224 tokens | ì¶”ê°€ ìš”ì²­ ìˆ˜ìš© ì—¬ìœ  ê³µê°„ |
    | 4096 tokens ê¸°ì¤€ ë™ì‹œì„± | 5.43ë°° | í•œ ë²ˆì— ì•½ 5ê±´ ì´ìƒì˜ ëŒ€í˜• ìš”ì²­ ê°€ëŠ¥ |
    | Torch.compile ìµœì í™” ì‹œê°„ | 25.15ì´ˆ | ìµœì´ˆ 1íšŒ ì»´íŒŒì¼ í›„ ìºì‹œ ì¬ì‚¬ìš© |
    | ì „ì²´ ì—”ì§„ ì›Œë°ì—… ì‹œê°„ | 102ì´ˆ | ì´ˆê¸° ì¤€ë¹„ ì™„ë£Œ í›„ ë¹ ë¥¸ ì‘ë‹µ ê°€ëŠ¥ |

- L4 í™˜ê²½(GPU ì œí•œ)ì—ì„œì˜ ë„ì… ë‹¹ìœ„ì„±
    - 24GB VRAM ë‚´ì—ì„œ ì¶”ë¡ , ìºì‹œ, ê·¸ë˜í”„ ì»´íŒŒì¼ê¹Œì§€ ëª¨ë‘ ìˆ˜ìš©í•˜ëŠ” **ë©”ëª¨ë¦¬ ìµœì í™” ì™„ë£Œ**
    - ì…ë ¥ íŒŒì¼ ìˆ˜ì— ë”°ë¼ ìš”ì•½ ìš”ì²­ì´ 5ë°° ì´ìƒ ë™ì‹œ ì¦ê°€í•´ë„ ê°ë‹¹ ê°€ëŠ¥í•œ **ë™ì‹œì„± ë³´ì¥ êµ¬ì¡°**
    - ì´ˆê¸° torch.compileì„ í†µí•´ ì¶”ë¡  ê²½ë¡œë¥¼ ê³ ì •í•˜ì—¬ ë§¤ ìš”ì²­ì‹œ ì˜¤ë²„í—¤ë“œê°€ ì—†ëŠ” **ì¶”ë¡  ì†ë„ ìµœì í™”**
    - ì¶”ê°€ ë©”ëª¨ë¦¬ ì‚¬ìš© ì—†ì´ ë‹¤ìˆ˜ ìš”ì²­ì„ í¡ìˆ˜í•  ìˆ˜ ìˆëŠ” kv-cache ì••ì¶• ë° ê´€ë¦¬ êµ¬ì¡°ë¥¼ ê°–ì¶˜ **ì—”ì§„ ì„¤ê³„**
    - ê²°ê³¼ì ìœ¼ë¡œ L4 GPU í•˜ë‚˜ë§Œìœ¼ë¡œ ì‹¤ì„œë¹„ìŠ¤ ê°€ëŠ¥ì„±ì„ í™•ë³´í•˜ëŠ” **ë¹„ìš© ëŒ€ë¹„ ì„±ëŠ¥ ìµœì  ì„ íƒ**

---

### 3. Langgraph ë…¸ë“œë³„ í”„ë¡¬í”„íŠ¸ ì˜ˆì‹œ

| ì½”ë“œ ì˜ì—­ | í•µì‹¬ ëª©ì  |
| --- | --- |
| StateType ì •ì˜ | ì „ì²´ ì²´ì¸ ì…ë ¥/ì¶œë ¥ ë°ì´í„° êµ¬ì¡° ê´€ë¦¬ |
| make_code_summary_prompt | ì†ŒìŠ¤ì½”ë“œ ìš”ì•½ìš© í”„ë¡¬í”„íŠ¸ ìƒì„± |
| make_patch_summary_prompt | ë³€ê²½ ì´ë ¥ ìš”ì•½ìš© í”„ë¡¬í”„íŠ¸ ìƒì„± |
| til_draft_prompt | TIL ì´ˆì•ˆ ì‘ì„±ìš© í”„ë¡¬í”„íŠ¸ ìƒì„± |
| til_feedback_prompt | TIL ì´ˆì•ˆ ê°œì„ ìš© Self-Feedback í”„ë¡¬í”„íŠ¸ ìƒì„± |

### TypedDict State ì •ì˜

- ì „ì²´ ì›Œí¬í”Œë¡œìš°ì—ì„œ ì£¼ê³ ë°›ì„ ë°ì´í„° íƒ€ì…ì„ ëª…ì‹œí•œ **State ê°ì²´ ì •ì˜**
- íŒŒì¼ ë¦¬ìŠ¤íŠ¸, ìš”ì•½ ê²°ê³¼, TIL ì´ˆì•ˆ ë° ìµœì¢…ë³¸ê¹Œì§€ ëª¨ë“  ì¤‘ê°„ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” **State ê´€ë¦¬ êµ¬ì¡°**
- code_summary, patch_summary í•­ëª©ì€ ë‹¤ìˆ˜ ë…¸ë“œ ê²°ê³¼ë¥¼ ë³‘í•©í•˜ê¸° ìœ„í•´ **merge_dicts ì–´ë…¸í…Œì´ì…˜ ì ìš©**

```jsx
class PatchDict(TypedDict):    
    commit_message: str
    patch: str

class FileDict(TypedDict):
    filepath: str
    latest_code: str
    patches: List[PatchDict]

class StateType(TypedDict, total=False):
    username: str
    date: str
    repo: str
    files: List[FileDict]
    code_summary: Annotated[Dict[str, str], merge_dicts]  # ë…¸ë“œë³„ ì½”ë“œ ìš”ì•½(dict)
    patch_summary: Annotated[Dict[str, str], merge_dicts] # ë…¸ë“œë³„ ì½”ë“œ ë³€ê²½ì‚¬í•­ ìš”ì•½(dict) 
    til_draft: str  # TIL ì´ˆì•ˆ
    til_final: str  # ê°œì„ ëœ ìµœì¢… TIL
```

### ì½”ë“œ ìš”ì•½ í”„ë¡¬í”„íŠ¸

- ê° ì†ŒìŠ¤íŒŒì¼ì„ ë¶„ì„í•˜ì—¬ ì‚¬ìš© ê¸°ìˆ , ì£¼ìš” ê¸°ëŠ¥, í”„ë¡œì íŠ¸ ì±…ì„ ì—­í• ì„ ì¶”ì¶œí•˜ëŠ” **ì½”ë“œ ìš”ì•½ í”„ë¡¬í”„íŠ¸ ìƒì„± í•¨ìˆ˜**
- ìš”ì²­í•œ ê²°ê³¼ë¥¼ ê¹”ë”í•œ ê°œì¡°ì‹ ë¬¸ì¥ìœ¼ë¡œ ì •ë¦¬í•˜ê²Œ ë§Œë“œëŠ” **í”„ë¡¬í”„íŠ¸ ì§€ì¹¨ í¬í•¨**
- ì…ë ¥ ë°ì´í„°ë¡œ íŒŒì¼ ê²½ë¡œì™€ ì½”ë“œ ì „ë¬¸ì„ ë°›ì•„ í”„ë¡¬í”„íŠ¸ë¡œ êµ¬ì„±í•˜ëŠ” **íŒŒì¼ ê¸°ë°˜ ì…ë ¥ êµ¬ì¡°**

```python
# code summary í•¨ìˆ˜
def make_code_summary_prompt(file: dict) -> str:
    filepath = file["filepath"]
    latest_code = file["latest_code"]

    prompt = f"""
ë‹¤ìŒì€ ì†Œí”„íŠ¸ì›¨ì–´ í”„ë¡œì íŠ¸ì˜ í•˜ë‚˜ì˜ ì†ŒìŠ¤ì½”ë“œ íŒŒì¼ì…ë‹ˆë‹¤.
ì£¼ì–´ì§„ ì½”ë“œë¥¼ ë¶„ì„í•˜ì—¬ í•µì‹¬ ë‚´ìš©ì„ ê°„ë‹¨í•œ ê°œì¡°ì‹ ë¬¸ì¥ìœ¼ë¡œ ìš”ì•½í•´ ì£¼ì„¸ìš”.

ìš”ì•½ í•­ëª©:
- ì‚¬ìš© ê¸°ìˆ  ìŠ¤íƒ (ì–¸ì–´, í”„ë ˆì„ì›Œí¬)
- ì£¼ìš” ê¸°ëŠ¥
- í”„ë¡œì íŠ¸ ë‚´ ê¸°ëŠ¥

ìš”ì•½ì€ ë‹¤ìŒì²˜ëŸ¼ ê°œì¡°ì‹ìœ¼ë¡œ ì‘ì„±í•´ ì£¼ì„¸ìš”:

ì˜ˆì‹œ:
- ì–¸ì–´: Python, í”„ë ˆì„ì›Œí¬: FastAPI
- ê¸°ëŠ¥: ì‚¬ìš©ì ì¸ì¦ ì²˜ë¦¬
- ê¸°ëŠ¥: API ì„œë²„ ì¸ì¦ ëª¨ë“ˆ ë‹´ë‹¹

[íŒŒì¼ ê²½ë¡œ]
{filepath}

[ì½”ë“œ]
{latest_code}
"""
    return prompt
```

### ì½”ë“œ ë³€ê²½ì‚¬í•­ ìš”ì•½ í”„ë¡¬í”„íŠ¸

- ì†ŒìŠ¤ì½”ë“œ ë³€ê²½ì‚¬í•­(patch)ì™€ ê¸°ì¡´ ì½”ë“œ ìš”ì•½ì„ ê¸°ë°˜ìœ¼ë¡œ ë³€ê²½ ëª©ì ê³¼ ìˆ˜ì •ì‚¬í•­ì„ ì¶”ì¶œí•˜ëŠ” **ë³€ê²½ ìš”ì•½ í”„ë¡¬í”„íŠ¸ ìƒì„± í•¨ìˆ˜**
- ì½”ë“œ ë³€ê²½ ì´ìœ , í•µì‹¬ ìˆ˜ì •ì‚¬í•­, ë³€ê²½ íë¦„ê¹Œì§€ ìš”ì•½í•˜ì—¬ ê¸°ë¡í•˜ëŠ” **ë³€ê²½ ì´ë ¥ ë¶„ì„ ëª©ì **
- ì¶œë ¥ í˜•ì‹ì„ ëª…ì‹œí•˜ê³ , ì¼ê´€ëœ ê°œì¡°ì‹ ë¬¸ì¥ í˜•íƒœë¡œ ê²°ê³¼ë¥¼ ìœ ë„í•˜ëŠ” **í”„ë¡¬í”„íŠ¸ ê°€ì´ë“œë¼ì¸ í¬í•¨**

```python
# patch summary í•¨ìˆ˜
def make_patch_summary_prompt(code_summary: str, patch_section: str) -> str:
    prompt = f"""
ë‹¤ìŒì€ í•˜ë‚˜ì˜ ì†ŒìŠ¤ì½”ë“œ íŒŒì¼ì— ëŒ€í•œ ì½”ë“œ ìš”ì•½ê³¼ ë³€ê²½ ì´ë ¥ì…ë‹ˆë‹¤.
ë³€ê²½ ì´ë ¥(patch)ì„ ë°”íƒ•ìœ¼ë¡œ ë³€ê²½ ëª©ì ê³¼ ì£¼ìš” ìˆ˜ì •ì‚¬í•­ì„ ê°„ë‹¨í•œ ê°œì¡°ì‹ ë¬¸ì¥ìœ¼ë¡œ ìš”ì•½í•´ ì£¼ì„¸ìš”.

[ì½”ë“œ ìš”ì•½]
{code_summary}

[ë³€ê²½ ì´ë ¥]
{patch_section}

ìš”ì•½ í•­ëª©:
- ì£¼ìš” ë³€ê²½ ëª©ì 
- í•µì‹¬ ìˆ˜ì •ì‚¬í•­ ìš”ì•½
- ë³€ê²½ íë¦„ ìš”ì•½ (í•„ìš” ì‹œ)

ìš”ì•½ì€ ë‹¤ìŒì²˜ëŸ¼ ê°œì¡°ì‹ìœ¼ë¡œ ì‘ì„±í•´ ì£¼ì„¸ìš”:

ì˜ˆì‹œ:
- ê¸°ëŠ¥ ì¶”ê°€: OAuth ì¸ì¦ ëª¨ë“ˆ ë„ì…
- ë²„ê·¸ ìˆ˜ì •: ë¡œê·¸ì¸ ì„¸ì…˜ ë§Œë£Œ ë¬¸ì œ í•´ê²°
- êµ¬ì¡° ê°œì„ : Controller ë ˆì´ì–´ ë¶„ë¦¬

ë‹µë³€ì€ í•œêµ­ì–´ë¡œ, ê°œì¡°ì‹ ë¬¸ì¥ìœ¼ë¡œë§Œ ì‘ì„±í•˜ì„¸ìš”.
"""
    return prompt
```

### TIL ì´ˆì•ˆ ì‘ì„± í”„ë¡¬í”„íŠ¸

- ì—¬ëŸ¬ íŒŒì¼ ìš”ì•½ ê²°ê³¼ë¥¼ í†µí•©í•˜ì—¬ í•˜ë‚˜ì˜ TIL ì´ˆì•ˆì„ ìƒì„±í•˜ëŠ” **TIL ì‘ì„± í”„ë¡¬í”„íŠ¸ ìƒì„± í•¨ìˆ˜**
- ì‘ì„±ëœ TILì€ ì‚¬ìš©ì ì•„ì´ë””, ë‚ ì§œ, ë ˆí¬ì§€í† ë¦¬ ì •ë³´ì™€ í•¨ê»˜ JSON í¬ë§·ìœ¼ë¡œ ì¶œë ¥í•˜ëŠ” **êµ¬ì¡°í™”ëœ ë°ì´í„° ìš”êµ¬**
- TIL ë‚´ìš©ì€ "ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš©, ê°œë… ì •ë¦¬, í™œìš©ë²•, ë¬¸ì œ í•´ê²°, íšŒê³ "ê¹Œì§€ í¬í•¨í•˜ëŠ” **í•™ìŠµ ì¼ì§€ ì‘ì„± ê¸°ì¤€ ì ìš©**

```python
# TIL ì´ˆì•ˆ ìƒì„± í”„ë¡¬í”„íŠ¸
def til_draft_prompt(username: str, date: str, repo: str, combined_summary: str) -> str:
    prompt = f"""
ë‹¤ìŒì€ í•˜ë‚˜ ì´ìƒì˜ ì†ŒìŠ¤ì½”ë“œ íŒŒì¼ì— ëŒ€í•œ ë¶„ì„ ìš”ì•½ê³¼ ë³€ê²½ ì´ë ¥ ë¶„ì„ì…ë‹ˆë‹¤. ì´ë¥¼ ì°¸ê³ í•˜ì—¬ ë§ˆí¬ë‹¤ìš´ í˜•ì‹ì˜ TILì„ ì‘ì„±í•´ ì£¼ì„¸ìš”.

[ì½”ë“œ + ë³€ê²½ ìš”ì•½]
{combined_summary}

ìš”êµ¬ ì¡°ê±´:
- ë‹¤ìŒ í˜•ì‹ì˜ JSONìœ¼ë¡œ ì‘ì„±:
{{
  "user": "{username}",
  "date": "{date}",
  "repo": "{repo}",
  "title": "<{date} í¬í•¨ ì œëª©>",
  "keywords": ["<í•µì‹¬ ê¸°ìˆ  í‚¤ì›Œë“œ 1~3ê°œ>"],
  "content": "<ë§ˆí¬ë‹¤ìš´ í˜•ì‹ TIL>"
}}

TIL ì‘ì„± ì‹œ ë°˜ë“œì‹œ í¬í•¨í•  í•­ëª© (ê°œì¡°ì‹):
1. ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš©
2. ê°œë… ì •ë¦¬
3. í•´ë‹¹ ê°œë…ì´ í•„ìš”í•œ ì´ìœ 
4. ê°œë…ì„ í™œìš©í•˜ëŠ” ë°©ë²•
5. ë¬¸ì œ í•´ê²° ê³¼ì •
6. í•˜ë£¨ íšŒê³ 
7. ì „ì²´ì ìœ¼ë¡œ ê°œì¡°ì‹ ë¬¸ì¥ êµ¬ì„±

TIL ë‚´ìš©ì€ í•œêµ­ì–´ë¡œ ì‘ì„±í•˜ì„¸ìš”.
"""
    return prompt
```

### TIL ì´ˆì•ˆ í”¼ë“œë°± ë…¸ë“œ í”„ë¡¬í”„íŠ¸

- ì‘ì„±ëœ TIL ì´ˆì•ˆì„ ë°›ì•„ ìì—°ìŠ¤ëŸ½ê²Œ ë‹¤ë“¬ê³  êµ¬ì²´í™”í•˜ëŠ” **Self-feedback í”„ë¡¬í”„íŠ¸ ìƒì„± í•¨ìˆ˜**
- ì¤‘ë³µ ì œê±°, í‘œí˜„ ëª…í™•í™”, ê°œì¡°ì‹ í†µì¼ ë“± í’ˆì§ˆ ê°œì„ ì„ ìœ„í•œ êµ¬ì²´ì  ê¸°ì¤€ì„ ì œì‹œí•˜ëŠ” **TIL í’ˆì§ˆ ê°œì„  ì§€ì¹¨ í¬í•¨**
- ê²°ê³¼ë¬¼ì€ ë°˜ë“œì‹œ **ê°œì¡°ì‹+ë§ˆí¬ë‹¤ìš´ í¬ë§· ìœ ì§€**í•˜ë„ë¡ ìš”êµ¬í•˜ë©°, TIL ë³¸ë¬¸ë§Œ ì¶œë ¥í•˜ëŠ” **ì—„ê²©í•œ ì¶œë ¥ í¬ë§· ê·œì¹™ ì„¤ì •**

```python
# í”¼ë“œë°± ë£¨í”„
def til_feedback_prompt(content: str) -> str:
    """
    TIL ì´ˆì•ˆì„ ë°›ì•„ì„œ ê°œì„  ì§€ì¹¨ì„ í¬í•¨í•œ feedback promptë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

    Args:
        content (str): ì´ˆì•ˆ TIL ë‚´ìš© (ë§ˆí¬ë‹¤ìš´ í…ìŠ¤íŠ¸)

    Returns:
        str: LLMì—ê²Œ ì „ë‹¬í•  ìµœì¢… í”„ë¡¬í”„íŠ¸ í…ìŠ¤íŠ¸
    """
    feedback_prompt = f"""
ë‹¤ìŒì€ ì˜¤ëŠ˜ í•™ìŠµí•œ ë‚´ìš©ì„ ì •ë¦¬í•œ TIL ì´ˆì•ˆì…ë‹ˆë‹¤.

[TIL ì´ˆì•ˆ]
{content}

ì´ TILì„ ë‹¤ìŒ ê¸°ì¤€ì— ë”°ë¼ í‰ê°€í•˜ê³ , ë” êµ¬ì²´ì ì´ê³  ì¼ê´€ì„± ìˆëŠ” TILë¡œ ê°œì„ í•´ ì£¼ì„¸ìš”:

âœ… ê°œì„  ê¸°ì¤€:
1. **ì¤‘ë³µ ë¬¸ì¥ ì œê±°** â€“ ìœ ì‚¬í•˜ê±°ë‚˜ ë°˜ë³µë˜ëŠ” ë¬¸ì¥ì€ í•˜ë‚˜ë¡œ í•©ì³ ì£¼ì„¸ìš”.
2. **í‘œí˜„ì˜ ëª…í™•ì„±** â€“ ë¶ˆë¶„ëª…í•˜ê±°ë‚˜ ëª¨í˜¸í•œ í‘œí˜„ì„ êµ¬ì²´ì ìœ¼ë¡œ ë°”ê¿” ì£¼ì„¸ìš”.
3. **ê°œì¡°ì‹ í†µì¼** â€“ ë¬¸ì¥í˜• ì„œìˆ ì´ ìˆë‹¤ë©´ ê°œì¡°ì‹ìœ¼ë¡œ ì •ë¦¬í•´ ì£¼ì„¸ìš”.
4. **ë¶ˆí•„ìš”í•œ ì„œë¡  ì œê±°** â€“ ì§€ë‚˜ì¹˜ê²Œ ì¼ë°˜ì ì´ê±°ë‚˜ ë°˜ë³µë˜ëŠ” ë‚´ìš©ì€ ìƒëµí•´ ì£¼ì„¸ìš”.
5. **ìì£¼ ì‚¬ìš©ë˜ëŠ” ì¶”ìƒ í‘œí˜„ ì œê±°** â€“ "ìƒˆë¡œìš´ ë©´ëª¨", "ì‹¤ê°ë‚˜ê²Œ", "ê¾¸ì¤€íˆ", "í¥ë¯¸ë¡œì› ë‹¤" ë“±ì˜ ëª¨í˜¸í•œ ê°ì •/ìƒíƒœ í‘œí˜„ì€ êµ¬ì²´ì ì¸ í–‰ë™, ì„±ê³¼, ê³„íšìœ¼ë¡œ ë°”ê¿” ì£¼ì„¸ìš”.
6. **ìì—°ìŠ¤ëŸ¬ìš´ ë¬¸ì¥ êµ¬ì„±** â€“ í•œêµ­ì–´ ë§ì¶¤ë²• ë° ì–´íˆ¬ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ë‹¤ë“¬ì–´ ì£¼ì„¸ìš”. ë¬¸ì¥ì´ ë„ˆë¬´ ê¸¸ì–´ì§€ë©´ ì¤„ë°”ê¿ˆìœ¼ë¡œ êµ¬ì¡°ë¥¼ ì§ê´€ì ìœ¼ë¡œ ë³´ì´ê²Œ ì‘ì„±í•˜ì„¸ìš”.

âœ… ì¶œë ¥ í˜•ì‹:
- ìˆ˜ì •ëœ TIL ì „ì²´ (ë§ˆí¬ë‹¤ìš´ í˜•ì‹ ìœ ì§€)

**ì£¼ì˜**: ê²°ê³¼ëŠ” ë°˜ë“œì‹œ í•œêµ­ì–´ë¡œ ì‘ì„±í•´ ì£¼ì„¸ìš”. ì´ˆì•ˆì— ëŒ€í•œ í”¼ë“œë°± ë¶€ë¶„ì€ ì‘ì„±í•˜ì§€ ë§ˆì„¸ìš”. **TIL ë³¸ë¬¸ë§Œ í•„ìš”í•©ë‹ˆë‹¤.**
"""
    return feedback_prompt
```

---

### 4. ë©€í‹°ìŠ¤í… ì²´ì¸ ë„ì…ì˜ ì¥ì  ë° ì„œë¹„ìŠ¤ ê¸°ëŠ¥ ì—°ê´€ì„±

- ì—¬ëŸ¬ ì†ŒìŠ¤ íŒŒì¼ì„ ë…ë¦½ì ìœ¼ë¡œ ë¶„ì„í•˜ê³  ì·¨í•©í•˜ì—¬ ì „ì²´ ìš”ì•½ ì •í™•ë„ë¥¼ í–¥ìƒì‹œí‚¤ëŠ” **ë³µì¡í•œ ì‘ì—… ìë™í™” ê¸°ëŠ¥**
- ì¤‘ê°„ ìš”ì•½ ë‹¨ê³„ë¥¼ ê±°ì¹˜ë©´ì„œ ì •ë³´ ì†ì‹¤ê³¼ ì™œê³¡ì„ ë°©ì§€í•˜ì—¬ ìƒì„± í’ˆì§ˆì„ ë†’ì´ëŠ” **ë‹µë³€ ì •í™•ë„ í–¥ìƒ ê¸°ëŠ¥**
- ì½”ë“œ ìš”ì•½, ë³€ê²½ì‚¬í•­ ìš”ì•½, ì´ˆì•ˆ ì‘ì„±, í”¼ë“œë°± ë‹¨ê³„ë¥¼ ëª…í™•íˆ ë¶„ë¦¬í•˜ì—¬ ê²°ê³¼ì˜ ì¼ê´€ì„±ì„ ìœ ì§€í•˜ëŠ” **êµ¬ì¡°í™”ëœ ê²°ê³¼ ìƒì„± ê¸°ëŠ¥**
- ëª¨ë“ˆí˜• ì„¤ê³„ë¡œ íŠ¹ì • ë…¸ë“œë§Œ êµì²´í•˜ê±°ë‚˜ ì¶”ê°€í•  ìˆ˜ ìˆì–´ ìœ ì—°ì„±ì„ í™•ë³´í•˜ëŠ” **ìœ ì§€ë³´ìˆ˜ ë° í™•ì¥ì„± í–¥ìƒ ê¸°ëŠ¥**
- ì…ë ¥ëœ íŒŒì¼ì˜ ì»¤ë°‹ ë³€ê²½ ë‚´ì—­ì„ ë°”íƒ•ìœ¼ë¡œ TILì„ ìë™ ìƒì„±í•˜ëŠ” ë° ìµœì í™”ëœ **ì„œë¹„ìŠ¤ ê¸°ëŠ¥ê³¼ì˜ ì—°ê´€ì„± í™•ë³´**

---

## 2. `/interveiw` : TIL ê¸°ë°˜ ë©´ì ‘ ì§ˆë¬¸ ìƒì„± Langchain ê°œìš”

## **ğŸ“Œ**Â ì²´ì¸ ì •ì˜ **ì½”ë“œ ì˜ˆì‹œ**

```python
# ì§ˆë¬¸ í”„ë¡¬í”„íŠ¸
question_prompt = PromptTemplate(
    input_variables=["til", "difficulty"],
    template="""
ë„ˆëŠ” ê¸°ìˆ  ë©´ì ‘ê´€ì´ì•¼. ì•„ë˜ TILì„ ë°”íƒ•ìœ¼ë¡œ ë‚œì´ë„ {difficulty} ìˆ˜ì¤€ì˜ ë©´ì ‘ ì§ˆë¬¸ì„ ìƒì„±í•´ì¤˜.\nTIL:\n{til}\nì§ˆë¬¸:
"""
)

# ë‹µë³€ í”„ë¡¬í”„íŠ¸
answer_prompt = PromptTemplate(
    input_variables=["question"],
    template="""
ë‹¤ìŒ ì§ˆë¬¸ì— ëŒ€í•œ ê°„ë‹¨í•œ ëª¨ë²” ë‹µë³€ì„ ì‘ì„±í•´ì¤˜:\n{question}\në‹µë³€:
"""
)

# ì²´ì¸ êµ¬ì„±
question_chain = LLMChain(llm=llm, prompt=question_prompt)
answer_chain = LLMChain(llm=llm, prompt=answer_prompt)

# ê²€ìƒ‰ê¸° êµ¬ì„± (Qdrant)
retriever = QdrantVectorStore(...).as_retriever()
results = retriever.similarity_search(til, k=3)
```

## **ğŸ“ŒÂ LangChain ë‚´ ì‚¬ìš© ë„êµ¬ ë° ì™¸ë¶€ ë¦¬ì†ŒìŠ¤**

| ë‹¨ê³„ | ì„¤ëª… | ì‚¬ìš© ë„êµ¬ |
| --- | --- | --- |
| TIL â†’ ì„ë² ë”© | BGE-m3 ê¸°ë°˜ ë²¡í„°í™” | `OllamaEmbeddings` + `RunnableMap` |
| ìœ ì‚¬ ì§ˆë¬¸ ê²€ìƒ‰ | Qdrantì—ì„œ top-k ê²€ìƒ‰ | `QdrantVectorStore.as_retriever()` |
| ì§ˆë¬¸ ìƒì„± | ìœ ì‚¬ ì§ˆë¬¸ ë° TIL ê¸°ë°˜ ìƒì„± | `PromptTemplate` + `LLMChain` |
| ë‹µë³€ ìƒì„± | ìƒì„±ëœ ì§ˆë¬¸ ê¸°ë°˜ ì‘ë‹µ | `PromptTemplate` + `LLMChain` |
| ì‘ë‹µ êµ¬ì„± | JSON êµ¬ì¡°í™” ë° ë³€í™˜ | `RunnableMap` or ì»¤ìŠ¤í…€ ì²˜ë¦¬ |

> ë©´ì ‘ ì§ˆë¬¸ ë°ì´í„°ëŠ” GitHub, ë¸”ë¡œê·¸, ì˜¤í”ˆ ë°ì´í„°ì…‹ ê¸°ë°˜ìœ¼ë¡œ ì‚¬ì „ ìˆ˜ì§‘ í›„ Qdrantì— ì €ì¥ë¨
> 

---

## **ğŸ§©Â LangGraph ë„ì… í•„ìš”ì„± ë° ì‹¤ì œ ì ìš© ë°©ì‹**

ğŸ¯Â **ë¬¸ì œ ìƒí™©**

| ì‹œë‚˜ë¦¬ì˜¤ | ë¬¸ì œì  |
| --- | --- |
| ìœ ì‚¬ ì§ˆë¬¸ì´ ì—†ëŠ” ê²½ìš° | `SequentialChain`ì€ ì¡°ê±´ ë¶„ê¸°ê°€ ì–´ë ¤ì›Œ fallback ì²˜ë¦¬ê°€ ë¶ˆê°€ëŠ¥ |
| ì¡°ê±´ë³„ í”„ë¡¬í”„íŠ¸ ì‚¬ìš© | `LLMChain`ë§Œìœ¼ë¡œëŠ” ì¡°ê±´ ë¶„ê¸°ë¥¼ ì½”ë“œ ì™¸ë¶€ì—ì„œ ì²˜ë¦¬í•´ì•¼ í•¨ |
| ê¸°ìˆ  í‚¤ì›Œë“œ í¬í•¨ ì‹œ ë¶„ê¸° | ì „ìš© ì²´ì¸ì„ êµ¬ì„±í•˜ê¸° ì–´ë µê³  ë¡œì§ì´ ë¶„ì‚°ë¨ |
| ë°˜ë³µ ìƒì„± ì‹œ ìƒíƒœ ìœ ì§€ | Stateless êµ¬ì¡°ë¡œ ë™ì¼ ì…ë ¥ì— ëŒ€í•œ íë¦„ ìœ ì§€ë¥¼ êµ¬í˜„í•˜ê¸° ì–´ë ¤ì›€ |

ğŸ¯Â **LangGraphë¥¼ í†µí•œ í•´ê²°**

| LangGraph ê¸°ëŠ¥ | ë„ì… ì´ìœ  |
| --- | --- |
| `StateGraph` | ìœ ì‚¬ ì§ˆë¬¸ì´ ì—†ì–´ ê²€ìƒ‰ ì‹¤íŒ¨ ì‹œ fallback ë¶„ê¸° ì²˜ë¦¬ |
| DAG ê¸°ë°˜ ì„¤ê³„ | ì§ˆë¬¸ ìƒì„± â†’ ë‹µë³€ ìƒì„± â†’ ê²€ìˆ˜ ë“± ë‹¤ë‹¨ê³„ ì¶”ë¡  í‘œí˜„ ê°€ëŠ¥ |
| ì¡°ê±´ ë…¸ë“œ 
(e.g. `add_conditional_edges()`) | ì§ˆë¬¸ ë‚œì´ë„/ìœ ì‚¬ë„/í‚¤ì›Œë“œ ì¡°ê±´ ë³„ í”„ë¡¬í”„íŠ¸ ë¶„ê¸° ëª…ì‹œí™” |

---

## **ğŸ§©Â LangGraph íë¦„ ì˜ˆì‹œ ì½”ë“œ**

```python
from langgraph.graph import StateGraph

graph = StateGraph()

# ë…¸ë“œ ì„ ì–¸
graph.add_node("embedding", run_embedding)
graph.add_node("search", search_qdrant)
graph.add_node("route", route_by_score)
graph.add_node("fallback_generation", fallback_chain)
graph.add_node("contextual_generation", contextual_chain)
graph.add_node("answer_generation", answer_chain)
graph.add_node("format", format_output)

# ì¡°ê±´ ë¶„ê¸°
graph.add_conditional_edges("route", {
    "contextual_generation": "contextual_generation",
    "fallback_generation": "fallback_generation"
})

# ê¸°ë³¸ ì—°ê²°
graph.set_entry_point("embedding")
graph.add_edge("embedding", "search")
graph.add_edge("search", "route")
graph.add_edge("contextual_generation", "answer_generation")
graph.add_edge("fallback_generation", "answer_generation")
graph.add_edge("answer_generation", "format")
```

---

## ğŸ§© LangGraph ì¡°ê±´ ë¶„ê¸° ì„¤ê³„

### 1. **ë‚œì´ë„ == 'ìƒ' â†’ ê³ ë‚œì´ë„ ì§ˆë¬¸ ì²´ì¸ ë¶„ê¸°**

ì‚¬ìš©ìì˜ TILê³¼ í•¨ê»˜ ì…ë ¥ëœ ë‚œì´ë„ê°€ 'ìƒ'ì¼ ê²½ìš°,
â†’ ê¸°ë³¸ ì²´ì¸ê³¼ëŠ” ë³„ë„ë¡œ ê³ ë‚œì´ë„ ì „ìš© í”„ë¡¬í”„íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ì§ˆë¬¸ ìƒì„± ì²´ì¸ìœ¼ë¡œ ë¶„ê¸°ë¨.

```python
def route_by_difficulty(state):
    difficulty = state["difficulty"]
    
    if difficulty == "ìƒ":
        return "advanced_generation"
    elif difficulty == "ì¤‘":
        return "intermediate_generation"
    else:
        return "basic_generation"
```

### 2. ìœ ì‚¬ ì§ˆë¬¸ ê²€ìƒ‰ ì‹¤íŒ¨ â†’ `fallback` ë¶„ê¸° í•„ìš”

ì‚¬ìš©ìì˜ TILì„ ë²¡í„°í™”í•˜ê³  Qdrantì— top-k ìœ ì‚¬ë„ ê²€ìƒ‰ì„ ìš”ì²­í–ˆì„ ë•Œ, ë‹¤ì–‘í•œ ìƒí™©ì´ ë°œìƒí•  ìˆ˜ ìˆìŒ:

- ê²€ìƒ‰ëœ ìœ ì‚¬ ì§ˆë¬¸ ìˆ˜ê°€ 0ê°œ
- ê²€ìƒ‰ ê²°ê³¼ê°€ ìˆë”ë¼ë„ ìœ ì‚¬ë„ê°€ 0.75 ë¯¸ë§Œìœ¼ë¡œ ë‚®ìŒ

ì´ëŸ¬í•œ ê²½ìš°ì—ëŠ” ê²€ìƒ‰ëœ ì§ˆë¬¸ì„ ê¸°ë°˜ìœ¼ë¡œ ì§ˆë¬¸ì„ ìƒì„±í•˜ë©´ ì •í™•ë„ê°€ ë–¨ì–´ì§€ê¸° ë•Œë¬¸ì—

â†’ ë²¡í„° ê²€ìƒ‰ì„ ìƒëµí•˜ê³  TIL ì›ë¬¸ë§Œìœ¼ë¡œ ì§ˆë¬¸ì„ ìƒì„±í•˜ëŠ” fallback ì²´ì¸ìœ¼ë¡œ ë¶„ê¸°í•¨.

```python
def route_by_search_result(state):
    results = state["search_results"]
    max_score = max([r.score for r in results]) if results else 0
    
    if len(results) == 0 or max_score < 0.75:
        return "fallback_generation"
    else:
        return "contextual_generation"
```

### 3. íŠ¹ì • ê¸°ìˆ  í‚¤ì›Œë“œ í¬í•¨ ì‹œ â†’ ê¸°ìˆ  ì „ìš© í”„ë¡¬í”„íŠ¸ ì²´ì¸ ë¶„ê¸°

ì‚¬ìš©ìì˜ TIL ë‚´ì— ì‚¬ì „ì— ì •ì˜ëœ ê¸°ìˆ  í‚¤ì›Œë“œ ë¦¬ìŠ¤íŠ¸ ì¤‘ í•˜ë‚˜ê°€ í¬í•¨ë˜ì–´ ìˆë‹¤ë©´,

â†’ ì¼ë°˜ì ì¸ ì§ˆë¬¸ ì²´ì¸ì´ ì•„ë‹ˆë¼, ê¸°ìˆ  íŠ¹í™” í”„ë¡¬í”„íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ë³„ë„ ì²´ì¸ìœ¼ë¡œ ë¶„ê¸°.

```python
def route_by_keywords(state):
    til_text = state["til"]
    tech_keywords = ["Docker", "JWT", "TensorFlow", "PyTorch", "Kubernetes"]
    
    if any(keyword.lower() in til_text.lower() for keyword in tech_keywords):
        return "tech_specialized_generation"
    else:
        return "general_generation"
```

### ë¶„ê¸° êµ¬ì¡° ìš”ì•½í‘œ

| ì¡°ê±´ | ì²˜ë¦¬ ë°©ì‹ |
| --- | --- |
| **ë‚œì´ë„ == 'ìƒ'** | â†’ ê³ ë‚œì´ë„ ì§ˆë¬¸ ì „ìš© ì²´ì¸ìœ¼ë¡œ ë¶„ê¸° (í”„ë¡¬í”„íŠ¸ ë° ê¸°ëŒ€ ì‘ë‹µ ë‹¬ë¼ì§) |
| **Qdrant ìœ ì‚¬ ì§ˆë¬¸ ì—†ìŒ** ë˜ëŠ” **ìœ ì‚¬ë„ < 0.75** | â†’ fallback ì²´ì¸ (ê²€ìƒ‰ ì—†ì´ TILë§Œ ê¸°ë°˜ìœ¼ë¡œ ì§ˆë¬¸ ìƒì„±) |
| **TIL ë‚´ íŠ¹ì • í‚¤ì›Œë“œ í¬í•¨** | â†’ ê¸°ìˆ  ì „ìš© ì§ˆë¬¸ í”„ë¡¬í”„íŠ¸ ì²´ì¸ìœ¼ë¡œ ë¶„ê¸° |

---

## **ğŸ“ŒÂ ì „ì²´** AI ì¶”ë¡  íë¦„ë„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì‚¬ìš©ì ì…ë ¥ ìˆ˜ì‹                  â”‚ TIL, ë‚ ì§œ, ë‚œì´ë„
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TIL ì „ì²˜ë¦¬ ë° ë²¡í„° ì„ë² ë”© ìƒì„±    â”‚ â† LangChain Runnable
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Qdrant ë²¡í„°DBì—ì„œ ìœ ì‚¬ ì§ˆë¬¸ ê²€ìƒ‰  â”‚ â† Retriever
â”‚ - Top-k ê´€ë ¨ ì§ˆë¬¸ ë°˜í™˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ê²€ìƒ‰ ê²°ê³¼ ì¡´ì¬ ì—¬ë¶€ í™•ì¸         â”‚ â† LangGraph
â”‚ - ê´€ë ¨ ì§ˆë¬¸ì´ ì—†ìœ¼ë©´ Fallback   â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚             â”‚
      â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ìœ ì‚¬ ì§ˆë¬¸ ìˆìŒ  â”‚  â”‚ ìœ ì‚¬ ì§ˆë¬¸ ì—†ìŒ (Fallback) â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–¼                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ë©´ì ‘ ì§ˆë¬¸ ìƒì„± (LLM + í”„ë¡¬í”„íŠ¸)        â”‚ â† LangChain LLMChain
â”‚  - ë‚œì´ë„ ê¸°ë°˜ ë¶„ê¸°                  â”‚
â””â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚          â”‚            â”‚
  â–¼          â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ê¸°ë³¸    â”‚ â”‚ ì¤‘ê¸‰    â”‚ â”‚ ê³ ê¸‰    â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
    â”‚          â”‚          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â–¼            
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      ì§ˆë¬¸ ê¸°ë°˜ ë‹µë³€ ìƒì„±         â”‚ â† LangChain LLMChain
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì‘ë‹µ í¬ë§· êµ¬ì„± ë° ë°˜í™˜                â”‚
â”‚  - {difficulty, question, answer}â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
